<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>define_has_many_accessors (DataStore::Relation::HasMany::ClassMethods)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="../../../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre><span class="ruby-comment cmt"># File lib/data_store/has_many.rb, line 74</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">define_has_many_accessors</span>(<span class="ruby-identifier">attr_name</span>)
          <span class="ruby-identifier">module_eval</span> <span class="ruby-node">%Q{
                  def #{attr_name}()
                    if @#{attr_name}.nil?
                @#{attr_name} = RelationCollection.new(self, :#{attr_name}) 
              end
              @#{attr_name}
                  end
                }</span>          
          <span class="ruby-identifier">class_eval</span> <span class="ruby-node">%Q{
                  def #{attr_name}=(attr_val)
                    if !@#{attr_name}
                      @#{attr_name} = RelationCollection.new(self, :#{attr_name})
              end
              if (attr_val.is_a?Array)
                attr_val.each do |element| 
                  @#{attr_name} &lt;&lt; element 
                end
              end
              @#{attr_name} = attr_val
                  end
                }</span>          
          <span class="ruby-identifier">class_eval</span> <span class="ruby-node">%Q{
                  def _#{attr_name}=(attr_val)
                    if !@#{attr_name}
                      @#{attr_name} = RelationCollection.new(self, :#{attr_name})
              end
              if (attr_val.is_a?Array)
                attr_val.each do |element| 
                  @#{attr_name}._add(element)
                end
              end
                  end
                }</span>                      
        <span class="ruby-keyword kw">end</span></pre>
</body>
</html>
