<!DOCTYPE HTML>
<html>
	<head>
	  <script src="js/base/prototype.js" type="text/javascript"></script>
	  <script src="js/base/effects.js" type="text/javascript"></script>
    <script src="http://connect.facebook.net/en_US/all.js"></script>
    <script src="js/nezal/facebook.js" type="text/javascript"></script>
    <script src="js/nezal/carousel.js" type="text/javascript"></script>
    
    <link type="text/css" href="css/game.css" rel="stylesheet" />
    <link type="text/css" href="css/game_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/quests.css" rel="stylesheet" />
    <link type="text/css" href="css/buildings.css" rel="stylesheet" />
    <link type="text/css" href="css/building_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/townhall_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/tutorial.css" rel="stylesheet" />
    <link type="text/css" href="css/notifications.css" rel="stylesheet" />
    <link type="text/css" href="css/friends.css" rel="stylesheet" />
    <link type="text/css" href="css/progress.css" rel="stylesheet" />
    
		<meta http-equiv="Content-Type" charset="utf-8">
		<title>Base Defender</title>
    
	</head>
	<body>
	  <div id="gameContainer">
	    
      <div id="mapView">
        <div id="friends">
          <div class="left">
            <img src="" />
          </div> 
          <div id="friends-container" class="container">
            <ul id='friends-ul'>
            </ul>
          </div>
          <div class="right">
            <img src="" />
          </div>
        </div>
        <div id="home" onclick="Javascript:game.reInitialize(function(){game.scene.render()})">
          <img src="images/friends/blank.png" />
          <div class="photoContainer">
            <img class='photo' src='images/buildings/townhall.png' />
          </div>	
          <div class='name'>Home</div>
        </div>
      </div>
      
  	  <div id="gameSceneContainer">
    		<div id="gameCanvas"></div>
	    </div>
      
      <div id="game-panel">
        <div class="panel-element">
          <img src="images/textures/rock.png"></img>
          <span id="rock-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/textures/lumber.png"></img>
          <span id="lumber-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/icons/worker.png"></img>
          <span title="Idle Workers / Total Workers" id="workers-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/icons/coins.png"></img>
          <span id="coins-amount" class="element-amount"></span>
        </div>
      </div>

      <div id="quest-panel" style="display:none;">
        <div class="title">
          <span id="coins-amount" class="element-amount" style="padding-top: 10px;width: 90%;">
           Quests 
          </span>
        </div>
        <div id="quests-list">
        </div>
      </div>
      
      <div id="building-remaining-time" style="display:none;"></div>
      
      <div id="building-panel" style="display:none;">
        <div id="building-panel-contents"></div>
        <div id="close-building-panel">X</div>
      </div>
      
      <div id="establish-townhall-container" style="display:none;">
        <span>Establish your town</span>
        <div id="establish-townhall">
          <img id="establish-townhall-img" src="images/buildings/townhall.png"></img>
        </div>
      </div>

      <div id="interaction">
        <div id="msg" style="display:none;"> </div>
        <div id="questDisplay" style="display:none;"> </div>
        <div id="buildingDisplay" style="display:none;"> </div>
        <div id=hand style="display:none;position:absolute;">
          <img src="images/quests/cursor.png"></img>
        </div>
      </div>
    </div>
    
    <script src="js/base/template.js"></script>
    <script src="js/nezal/loader.js"></script>
    <script src="js/nezal/nezal.js"></script>
    <script src="js/nezal/layer.js"></script>
    <script src="js/nezal/scene.js"></script>
    <script src="js/nezal/reactor.js"></script>
	
    <script src="js/nezal/sprite.js"></script>
	
    <script src="js/game/network.js"></script>
    <script src="js/game/navigation.js"></script>
    <script src="js/game/base_defender_scene.js"></script>
	
		<script src="js/game/isometric/util.js"></script>
		<script src="js/game/isometric/astar.js"></script>
		<script src="js/game/isometric/map.js"></script>
		<script src="js/game/isometric/unit.js"></script>
		<script src="js/game/isometric/dom_sprite.js"></script>
		<script src="js/game/isometric/display_unit.js"></script>
		
    <script src="js/game/game.js"></script>
    <script src="js/game/tutorial.js"></script>
    <script src="js/game/building.js"></script>
    <script src="js/game/resource_building.js"></script>
    <script src="js/game/townhall.js"></script>
    <script src="js/game/quarry.js"></script>
    <script src="js/game/lumbermill.js"></script>
    <script src="js/game/user.js"></script>
    <script src="js/game/building_mode.js"></script>
    <script src="js/game/templates_manager.js"></script>
    <script src="js/game/building_panel.js"></script>
    <script src="js/game/worker.js"></script>
    <script src="js/game/building_factory.js"></script>
    <script src="js/game/resource_building_factory.js"></script>
    <script src="js/game/worker_factory.js"></script>
    <script src="js/game/lumbermill_factory.js"></script>
    <script src="js/game/quarry_factory.js"></script>
    <script src="js/game/townhall_factory.js"></script>
    <script src="js/game/notification.js"></script>
    <script src="js/game/game_panel.js"></script>
    <script src="js/game/quests_manager.js"></script>
    <script src="js/game/buildings_manager.js"></script>
    <script src="js/game/displays/display.js"></script>
    <script src="js/game/displays/progress_display.js"></script>
    
    <script>
      var game = null;
			document.observe('dom:loaded',function(){
	      serviceProvider = FBConnect
	      serviceProvider.init(function(){
	        try {
	          game = new Game();
	          game.start();
	        } catch(e){}
	      });
			})
    </script>
	</body>
</html>
