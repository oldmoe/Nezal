<!DOCTYPE HTML>
<html>
	<head>
    <script src="http://connect.facebook.net/en_US/all.js" type="text/javascript"></script>
  	<script src="http://www.kongregate.com/javascripts/kongregate_api.js" type="text/javascript"></script>
	  <script src="js/base/prototype.js" type="text/javascript"></script>
    <script src="js/nezal/facebook.js" type="text/javascript"></script>
    <script src="js/nezal/kongregate.js" type="text/javascript"></script>
    <script src="js/game/fb_defender.js" type="text/javascript"></script>
    <script src="js/game/k_defender.js" type="text/javascript"></script>
    
    <link type="text/css" href="css/game.css" rel="stylesheet" />
    <link type="text/css" href="css/game_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/building_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/townhall_panel.css" rel="stylesheet" />
    <link type="text/css" href="css/tutorial.css" rel="stylesheet" />
    <link type="text/css" href="css/notifications.css" rel="stylesheet" />

    
		<meta http-equiv="Content-Type" charset="utf-8">
		<title>Base Defender</title>
    
	</head>
	<body>
	  <div id="gameContainer">
	    
      <div id="friends" style="position: absolute; top: 555px; left: 30px; width: 700px;">
        <div>Map View</div>
      </div>
      
      <div id="canvasContainer">
        <canvas id="gameBackground" width="760" height="550"></canvas>
        <canvas id="gameForeground" width="760" height="550"></canvas>
      </div>
      <div class="navigation-trigger" id="left-navigation-trigger"></div>
      <div class="navigation-trigger" id="up-navigation-trigger"></div>
      <div class="navigation-trigger" id="right-navigation-trigger"></div>
      <div class="navigation-trigger" id="down-navigation-trigger"></div>
      
      <div id="game-panel">
        <div class="panel-element">
          <img src="images/textures/rock.png"></img>
          <span id="rock-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/textures/iron.png"></img>
          <span id="iron-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/icons/worker.png"></img>
          <span title="Idle Workers / Total Workers" id="workers-amount" class="element-amount"></span>
        </div>
        
        <div class="panel-element">
          <img src="images/icons/coins.png"></img>
          <span id="coins-amount" class="element-amount"></span>
        </div>
      </div>
      
      <div id="building-remaining-time" style="display:none;"></div>
      
      <div id="building-panel" style="display:none;">
        <div id="building-panel-contents"></div>
        <div id="close-building-panel">X</div>
      </div>
      
      <div id="establish-townhall-container" style="display:none;">
        <span>Establish your town</span>
        <img id="establish-townhall" src="images/buildings/townhall.png"></img>
      </div>
    </div>
    
    <script src="js/base/template.js"></script>
    <script src="js/nezal/loader.js"></script>
    <script src="js/nezal/nezal.js"></script>
    <script src="js/nezal/layer.js"></script>
    <script src="js/nezal/scene.js"></script>
    <script src="js/nezal/reactor.js"></script>
    <script src="js/game/network.js"></script>
    <script src="js/game/navigation.js"></script>
    <script src="js/game/base_defender_scene.js"></script>
	
	<script src="js/game/isometric/util.js"></script>
	<script src="js/game/isometric/astar.js"></script>
	<script src="js/game/isometric/map.js"></script>
	<script src="js/game/isometric/unit.js"></script>
	<script src="js/game/isometric/dom_sprite.js"></script>
	
    <script src="js/game/game.js"></script>
    <script src="js/game/tutorial.js"></script>
    <script src="js/game/building.js"></script>
    <script src="js/game/resource_building.js"></script>
    <script src="js/game/townhall.js"></script>
    <script src="js/game/quarry.js"></script>
    <script src="js/game/mine.js"></script>
    <script src="js/game/user.js"></script>
    <script src="js/game/building_mode.js"></script>
    <script src="js/game/templates_manager.js"></script>
    <script src="js/game/building_panel.js"></script>
    <script src="js/game/worker.js"></script>
    <script src="js/game/building_factory.js"></script>
    <script src="js/game/resource_building_factory.js"></script>
    <script src="js/game/worker_factory.js"></script>
    <script src="js/game/mine_factory.js"></script>
    <script src="js/game/quarry_factory.js"></script>
    <script src="js/game/townhall_factory.js"></script>
    <script src="js/game/notification.js"></script>
    <script>
  	$(document).observe('dom:loaded',function(){
      game = null;
      serviceProvider = KConnect
      serviceProvider.init(function(){
        try {
          game = new Game();
          game.start();
        }catch(e){}
      });
    })
    </script>
	</body>
</html>
